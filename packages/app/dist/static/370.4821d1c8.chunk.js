"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[370],{56420:(fe,N,e)=>{e.d(N,{Y:()=>pe});var r=e(95208),b=e(77125),z=e(64947),X=e(93453),B=e(29365),J=e(46423),ie=e(5951),ae=e(26343),ge=e(28233),Q=e(55197),i=e(58837),he=e(72501),c=e(5893),o=e(14041),ve=e(45250),ee=e.n(ve),ye=e(70209),t=e(92483),ne=e(75202),ce=e(89475),de=e(10265);const te=(0,i.A)({popoverList:{minWidth:260,maxWidth:400},menuItem:{whiteSpace:"normal"}},{name:"BackstageSupportButton"}),k=({icon:v})=>{const _=(0,r.n)(),w=v?_.getSystemIcon(v)??t.NT:t.NT;return o.createElement(w,null)},me=({link:v})=>o.createElement(ne.N_,{to:v.url},v.title??v.url),ue=({item:v})=>o.createElement(ae.A,null,o.createElement(J.A,null,o.createElement(k,{icon:v.icon})),o.createElement(ie.A,{primary:v.title,secondary:v.links?.reduce((_,w,se)=>[..._,se>0&&o.createElement("br",{key:se}),o.createElement(me,{link:w,key:w.url})],[])}));function pe(v){const{t:_}=(0,de.i)(ce.O),{title:w,items:se,children:oe}=v,{items:s}=(0,ye.l)(),[m,p]=(0,o.useState)(!1),[I,f]=(0,o.useState)(null),g=te(),U=(0,c.A)(x=>x.breakpoints.down("sm")),G=x=>{f(x.currentTarget),p(!0)},D=()=>{p(!1)};return o.createElement(o.Fragment,null,o.createElement(b.A,{display:"flex",ml:1},U?o.createElement(B.A,{color:"primary",size:"small",onClick:G,"data-testid":"support-button","aria-label":"Support"},o.createElement(t.NT,null)):o.createElement(z.A,{"data-testid":"support-button","aria-label":"Support",color:"primary",onClick:G,startIcon:o.createElement(t.NT,null)},_("supportButton.title"))),o.createElement(Q.Ay,{"data-testid":"support-button-popover",open:m,anchorEl:I,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:D},o.createElement(ge.A,{className:g.popoverList,autoFocusItem:!!I},w&&o.createElement(ae.A,{button:!1,alignItems:"flex-start",className:g.menuItem},o.createElement(he.A,{variant:"subtitle1"},w)),o.Children.map(oe,(x,h)=>o.createElement(ae.A,{alignItems:"flex-start",key:`child-${h}`,className:g.menuItem},x)),(se??s).map((x,h)=>o.createElement(ue,{item:x,key:`item-${h}`}))),o.createElement(X.A,null,o.createElement(z.A,{color:"primary",onClick:D,"aria-label":"Close"},_("supportButton.close")))))}},60370:(fe,N,e)=>{e.r(N),e.d(N,{CatalogGraphPage:()=>Ge});var r=e(78560),b=e(82326),z=e(16654),X=e(16454),B=e(17138),J=e(56420),ie=e(72814),ae=e(52262),ge=e(20987),Q=e(53318),i=e(42899),he=e(4321),c=e(72501),o=e(58837),ve=e(65859),ee=e(98984),ye=e(15485),t=e(14041),ne=e(18690),ce=e(60332),de=e(54361),te=e(81252),k=e(77125);const me={curveMonotoneX:"Monotone X",curveStepBefore:"Step Before"},ue=["curveMonotoneX","curveStepBefore"],pe=({value:n,onChange:d})=>{const a=(0,t.useCallback)(E=>d(E),[d]);return t.createElement(k.A,{pb:1,pt:1},t.createElement(te.w,{label:"Curve",selected:n,items:ue.map(E=>({label:me[E],value:E})),onChange:a}))};var v=e(60241);const _={[v.O.LEFT_RIGHT]:"Left to right",[v.O.RIGHT_LEFT]:"Right to left",[v.O.TOP_BOTTOM]:"Top to bottom",[v.O.BOTTOM_TOP]:"Bottom to top"},w=({value:n,onChange:d})=>{const a=(0,t.useCallback)(E=>d(E),[d]);return t.createElement(k.A,{pb:1,pt:1},t.createElement(te.w,{label:"Direction",selected:n,items:Object.values(v.O).map(E=>({label:_[E],value:E})),onChange:a}))};var se=e(95061),oe=e(29365),s=e(34839),m=e(35963),p=e(64704);const I=(0,o.A)({formControl:{width:"100%",maxWidth:300}},{name:"PluginCatalogGraphMaxDepthFilter"}),f=({value:n,onChange:d})=>{const a=I(),E=(0,t.useRef)(d),[K,R]=(0,t.useState)(n);(0,t.useEffect)(()=>{E.current=d},[d]),(0,t.useEffect)(()=>{R(n)},[n]);const W=(0,t.useCallback)(Z=>{const H=Number(Z.target.value),T=Number.isFinite(H)&&H>0?H:Number.POSITIVE_INFINITY;R(T),E.current(T)},[]),M=(0,t.useCallback)(()=>{R(Number.POSITIVE_INFINITY),E.current(Number.POSITIVE_INFINITY)},[E]);return t.createElement(k.A,{pb:1,pt:1},t.createElement(se.A,{variant:"outlined",className:a.formControl},t.createElement(c.A,{variant:"button"},"Max Depth"),t.createElement(m.A,{type:"number",placeholder:"\u221E Infinite",value:Number.isFinite(K)?String(K):"",onChange:W,endAdornment:t.createElement(s.A,{position:"end"},t.createElement(oe.A,{"aria-label":"clear max depth",onClick:M,edge:"end"},t.createElement(p.A,null))),inputProps:{"aria-label":"maxp"},labelWidth:0})))};var g=e(18139),U=e(34477),G=e(30043),D=e(69076),x=e(86901),h=e(16249),u=e(44148),S=e(41260),O=e(6924),P=e(61783),L=e(73466);const V=(0,o.A)({formControl:{maxWidth:300}},{name:"PluginCatalogGraphSelectedKindsFilter"}),F=({value:n,onChange:d})=>{const a=V(),E=(0,g.gf)(U.k),K=(0,g.gf)(G.v),{error:R,value:W}=(0,L.A)(async()=>await K.getEntityFacets({facets:["kind"]}).then(T=>T.facets.kind?.map($=>$.value).sort()||[]));(0,t.useEffect)(()=>{R&&E.post({message:"Failed to load entity kinds",severity:"error"})},[R,E]);const M=(0,t.useMemo)(()=>W&&W.map(T=>T.toLocaleLowerCase("en-US")),[W]),Z=(0,t.useCallback)((T,$)=>{d(M&&M.every(Ae=>$.includes(Ae))?void 0:$)},[M,d]),H=(0,t.useCallback)(()=>{d(n?.length?n:void 0)},[n,d]);return!W?.length||!M?.length||R?t.createElement(t.Fragment,null):t.createElement(k.A,{pb:1,pt:1},t.createElement(c.A,{variant:"button"},"Kinds"),t.createElement(P.Ay,{className:a.formControl,multiple:!0,limitTags:4,disableCloseOnSelect:!0,"aria-label":"Kinds",options:M,value:n??M,getOptionLabel:T=>W[M.indexOf(T)]??T,onChange:Z,onBlur:H,renderOption:(T,{selected:$})=>t.createElement(x.A,{control:t.createElement(D.A,{icon:t.createElement(S.A,{fontSize:"small"}),checkedIcon:t.createElement(u.A,{fontSize:"small"}),checked:$}),label:W[M.indexOf(T)]??T}),size:"small",popupIcon:t.createElement(O.A,{"data-testid":"selected-kinds-expand"}),renderInput:T=>t.createElement(h.A,{...T,variant:"outlined"})}))},q=(0,o.A)({formControl:{maxWidth:300}},{name:"PluginCatalogGraphSelectedRelationsFilter"}),y=({relationPairs:n,value:d,onChange:a})=>{const E=q(),K=(0,t.useMemo)(()=>n.flat(),[n]),R=(0,t.useCallback)((M,Z)=>{a(K.every(H=>Z.includes(H))?void 0:Z)},[K,a]),W=(0,t.useCallback)(()=>{a(d?.length?d:void 0)},[d,a]);return t.createElement(k.A,{pb:1,pt:1},t.createElement(c.A,{variant:"button"},"Relations"),t.createElement(P.Ay,{className:E.formControl,multiple:!0,limitTags:4,disableCloseOnSelect:!0,"aria-label":"Relations",options:K,value:d??K,onChange:R,onBlur:W,renderOption:(M,{selected:Z})=>t.createElement(x.A,{control:t.createElement(D.A,{icon:t.createElement(S.A,{fontSize:"small"}),checkedIcon:t.createElement(u.A,{fontSize:"small"}),checked:Z}),label:M}),size:"small",popupIcon:t.createElement(O.A,{"data-testid":"selected-relations-expand"}),renderInput:M=>t.createElement(h.A,{...M,variant:"outlined"})}))};var A=e(73643);const l=(0,o.A)({root:{width:"100%",maxWidth:300}},{name:"PluginCatalogGraphSwitchFilter"}),C=({label:n,value:d,onChange:a})=>{const E=l(),K=(0,t.useCallback)(R=>{a(R.target.checked)},[a]);return t.createElement(k.A,{pb:1,pt:1},t.createElement(x.A,{control:t.createElement(A.A,{checked:d,onChange:K,name:n,color:"primary"}),label:n,className:E.root}))};var Y=e(45810),le=e.n(Y),Ee=e(5877);function be({initialState:n={}}){const d=(0,ne.zy)(),a=(0,t.useMemo)(()=>le().parse(d.search,{arrayLimit:0,ignoreQueryPrefix:!0})||{},[d.search]),[E,K]=(0,t.useState)(()=>(Array.isArray(a.rootEntityRefs)?a.rootEntityRefs:n?.rootEntityRefs??[]).map(j=>(0,r.KU)(j))),[R,W]=(0,t.useState)(()=>typeof a.maxDepth=="string"?We(a.maxDepth):n?.maxDepth??Number.POSITIVE_INFINITY),[M,Z]=(0,t.useState)(()=>Array.isArray(a.selectedRelations)?a.selectedRelations:n?.selectedRelations),[H,T]=(0,t.useState)(()=>(Array.isArray(a.selectedKinds)?a.selectedKinds:n?.selectedKinds)?.map(j=>j.toLocaleLowerCase("en-US"))),[$,Ae]=(0,t.useState)(()=>typeof a.unidirectional=="string"?a.unidirectional==="true":n?.unidirectional??!0),[Re,Me]=(0,t.useState)(()=>typeof a.mergeRelations=="string"?a.mergeRelations==="true":n?.mergeRelations??!0),[Ie,De]=(0,t.useState)(()=>typeof a.direction=="string"?a.direction:n?.direction??v.O.LEFT_RIGHT),[Le,Fe]=(0,t.useState)(()=>typeof a.curve=="string"?a.curve:n?.curve??"curveMonotoneX"),[Se,Oe]=(0,t.useState)(()=>typeof a.showFilters=="string"?a.showFilters==="true":n?.showFilters??!0),Ne=(0,t.useCallback)(()=>Oe(j=>!j),[Oe]),Te=(0,Ee.A)(d.search);(0,t.useEffect)(()=>{d.search!==Te&&(Array.isArray(a.rootEntityRefs)&&K(a.rootEntityRefs.map(j=>(0,r.KU)(j))),typeof a.maxDepth=="string"&&W(We(a.maxDepth)),Array.isArray(a.selectedKinds)&&T(a.selectedKinds),Array.isArray(a.selectedRelations)&&Z(a.selectedRelations),typeof a.unidirectional=="string"&&Ae(a.unidirectional==="true"),typeof a.mergeRelations=="string"&&Me(a.mergeRelations==="true"),typeof a.direction=="string"&&De(a.direction),typeof a.showFilters=="string"&&Oe(a.showFilters==="true"))},[Te,d.search,a,K,W,T,Z,Ae,Me,De,Oe]);const Ce=(0,Ee.A)(E.map(j=>(0,r.U2)(j)));return(0,t.useEffect)(()=>{const j=E.map(re=>(0,r.U2)(re)),xe=le().stringify({rootEntityRefs:j,maxDepth:isFinite(R)?R:"\u221E",selectedKinds:H,selectedRelations:M,unidirectional:$,mergeRelations:Re,direction:Ie,showFilters:Se},{arrayFormat:"brackets",addQueryPrefix:!0}),Be=`${window.location.pathname}${xe}`;!Ce||j.length===Ce.length&&j.every((re,Ke)=>re===Ce[Ke])?window.history.replaceState(null,document.title,Be):window.history.pushState(null,document.title,Be)},[E,R,H,M,$,Re,Ie,Se,Ce]),{rootEntityNames:E,setRootEntityNames:K,maxDepth:R,setMaxDepth:W,selectedRelations:M,setSelectedRelations:Z,selectedKinds:H,setSelectedKinds:T,unidirectional:$,setUnidirectional:Ae,mergeRelations:Re,setMergeRelations:Me,direction:Ie,setDirection:De,curve:Le,setCurve:Fe,showFilters:Se,toggleShowFilters:Ne}}function We(n){return n==="\u221E"?Number.POSITIVE_INFINITY:Number(n)}const ze=(0,o.A)(n=>({content:{minHeight:0},container:{height:"100%",maxHeight:"100%",minHeight:0},fullHeight:{maxHeight:"100%",display:"flex",minHeight:0},graphWrapper:{position:"relative",flex:1,minHeight:0,display:"flex"},graph:{flex:1,minHeight:0},legend:{position:"absolute",bottom:0,right:0,padding:n.spacing(1),"& .icon":{verticalAlign:"bottom"}},filters:{display:"grid",gridGap:n.spacing(1),gridAutoRows:"auto",[n.breakpoints.up("lg")]:{display:"block"},[n.breakpoints.only("md")]:{gridTemplateColumns:"repeat(3, 1fr)"},[n.breakpoints.only("sm")]:{gridTemplateColumns:"repeat(2, 1fr)"},[n.breakpoints.down("xs")]:{gridTemplateColumns:"repeat(1, 1fr)"}}}),{name:"PluginCatalogGraphCatalogGraphPage"}),Ge=n=>{const{relationPairs:d=de.b,initialState:a,entityFilter:E}=n,K=(0,ne.Zp)(),R=ze(),W=(0,ie.S)(ge.s),{maxDepth:M,setMaxDepth:Z,selectedKinds:H,setSelectedKinds:T,selectedRelations:$,setSelectedRelations:Ae,unidirectional:Re,setUnidirectional:Me,mergeRelations:Ie,setMergeRelations:De,direction:Le,setDirection:Fe,curve:Se,setCurve:Oe,rootEntityNames:Ne,setRootEntityNames:Te,showFilters:Ce,toggleShowFilters:j}=be({initialState:a}),xe=(0,ae.s)(),Be=(0,t.useCallback)((re,Ke)=>{const Pe=(0,r.KU)(re.id);if(Ke.shiftKey){const Ue=W({kind:Pe.kind.toLocaleLowerCase("en-US"),namespace:Pe.namespace.toLocaleLowerCase("en-US"),name:Pe.name});xe.captureEvent("click",re.entity.metadata.title??(0,Q.S)(Pe),{attributes:{to:Ue}}),K(Ue)}else xe.captureEvent("click",re.entity.metadata.title??(0,Q.S)(Pe)),Te([Pe])},[W,K,Te,xe]);return t.createElement(b.Y,{themeId:"home"},t.createElement(z.Y,{title:"Catalog Graph",subtitle:Ne.map(re=>(0,Q.S)(re)).join(", ")}),t.createElement(X.U,{stretch:!0,className:R.content},t.createElement(B.d,{titleComponent:t.createElement(ye.A,{value:"show filters",selected:Ce,onChange:()=>j()},t.createElement(ve.A,null)," Filters")},t.createElement(J.Y,null,"Start tracking your component in by adding it to the software catalog.")),t.createElement(i.A,{container:!0,alignItems:"stretch",className:R.container},Ce&&t.createElement(i.A,{item:!0,xs:12,lg:2,className:R.filters},t.createElement(f,{value:M,onChange:Z}),t.createElement(F,{value:H,onChange:T}),t.createElement(y,{value:$,onChange:Ae,relationPairs:d}),t.createElement(w,{value:Le,onChange:Fe}),t.createElement(pe,{value:Se,onChange:Oe}),t.createElement(C,{value:Re,onChange:Me,label:"Simplified"}),t.createElement(C,{value:Ie,onChange:De,label:"Merge Relations"})),t.createElement(i.A,{item:!0,xs:!0,className:R.fullHeight},t.createElement(he.A,{className:R.graphWrapper},t.createElement(c.A,{variant:"caption",color:"textSecondary",display:"block",className:R.legend},t.createElement(ee.A,{className:"icon"})," Use pinch & zoom to move around the diagram. Click to change active node, shift click to navigate to entity."),t.createElement(ce.L,{...n,rootEntityNames:Ne,maxDepth:M,kinds:H&&H.length>0?H:void 0,relations:$&&$.length>0?$:void 0,mergeRelations:Ie,unidirectional:Re,onNodeClick:Be,direction:Le,relationPairs:d,entityFilter:E,className:R.graph,zoom:"enabled",curve:Se}))))))}},60332:(fe,N,e)=>{e.d(N,{L:()=>oe});var r=e(78560),b=e(80609),z=e(47090),X=e(18139),B=e(24453),J=e(78467),ie=e(58837),ae=e(54917),ge=e(53373),Q=e.n(ge),i=e(14041),he=e(22249);const c=(0,he.A)(s=>({text:{fill:s.palette.textContrast},secondary:{fill:s.palette.textSubtle}}),{name:"PluginCatalogGraphCustomLabel"});function o({edge:{relations:s}}){const m=c();return i.createElement("text",{className:m.text,textAnchor:"middle"},s.map((p,I)=>i.createElement("tspan",{key:p,className:Q()(I%2!==0&&m.secondary)},I>0&&i.createElement("tspan",null," / "),p)))}var ve=e(46509),ee=e(10437);function ye({icon:s,...m}){const p=s??ee.A;return i.createElement(p,{...m})}var t=e(55488);const ne=(0,ie.A)(s=>({node:{fill:s.palette.grey[300],stroke:s.palette.grey[300],"&.primary":{fill:s.palette.primary.light,stroke:s.palette.primary.light},"&.secondary":{fill:s.palette.secondary.light,stroke:s.palette.secondary.light}},text:{fill:s.palette.getContrastText(s.palette.grey[300]),"&.primary":{fill:s.palette.primary.contrastText},"&.secondary":{fill:s.palette.secondary.contrastText},"&.focused":{fontWeight:"bold"}},clickable:{cursor:"pointer"}}),{name:"PluginCatalogGraphCustomNode"});function ce({node:{id:s,entity:m,color:p="default",focused:I,onClick:f}}){const g=ne(),[U,G]=(0,i.useState)(0),[D,x]=(0,i.useState)(0),h=(0,i.useRef)(null),u=(0,ve.f)(m,{defaultNamespace:t.oQ});(0,i.useLayoutEffect)(()=>{if(h.current){let{height:y,width:A}=h.current.getBBox();y=Math.round(y),A=Math.round(A),(y!==D||A!==U)&&(G(A),x(y))}},[U,D]);const S=!!u.Icon,O=10,P=D,L=S?P+O:0,V=L+U+O*2,F=D+O*2,q=u.primaryTitle??s;return i.createElement("g",{onClick:f,className:Q()(f&&g.clickable)},i.createElement("rect",{className:Q()(g.node,p==="primary"&&"primary",p==="secondary"&&"secondary"),width:V,height:F,rx:10}),S&&i.createElement(ye,{icon:u.Icon,y:O,x:O,width:P,height:P,className:Q()(g.text,I&&"focused",p==="primary"&&"primary",p==="secondary"&&"secondary")}),i.createElement("text",{ref:h,className:Q()(g.text,I&&"focused",p==="primary"&&"primary",p==="secondary"&&"secondary"),y:F/2,x:L+(U+O*2)/2,textAnchor:"middle",alignmentBaseline:"middle"},q),i.createElement("title",null,u.entityRef))}var de=e(54361),te=e(60241),k=e(22771),me=e(30043),ue=e(87290);function pe(){const s=(0,X.gf)(me.v),m=(0,i.useRef)({requestedEntities:new Set,outstandingEntities:new Map,cachedEntities:new Map}),[p,I]=(0,i.useState)({}),f=(0,i.useCallback)(()=>{const{cachedEntities:h,requestedEntities:u}=m.current,S={};u.forEach(O=>{const P=h.get(O);P&&(S[O]=P)}),I(S)},[m,I]),[g,U]=(0,ue.A)(async()=>{const{requestedEntities:h,cachedEntities:u}=m.current,S=Array.from(h).filter(P=>!u.has(P));if(S.length===0){f();return}const{items:O}=await s.getEntitiesByRefs({entityRefs:S});O.forEach(P=>{if(P){const L=(0,r.U2)(P);u.set(L,P)}}),f()},[m,f]),{loading:G,error:D}=g,x=(0,i.useCallback)(h=>{const u=new Set(h),{requestedEntities:S}=m.current;(u.size!==S.size||Array.from(u).some(O=>!S.has(O)))&&(m.current.requestedEntities=u,U(),f())},[m,U,f]);return{entities:p,loading:G,error:D,requestEntities:x}}var v=e(45250);function _({rootEntityRefs:s,filter:{maxDepth:m=Number.POSITIVE_INFINITY,relations:p,kinds:I,entityFilter:f}={}}){const{entities:g,loading:U,error:G,requestEntities:D}=pe();return(0,i.useEffect)(()=>{const h=new Set([...s]),u=new Set;let S=[...s],O=0;for(;S.length>0&&(!isFinite(m)||O<m);){const P=S;for(S=[];P.length>0;){const L=P.shift(),V=g[L];if(u.add(L),V&&V.relations){if(f&&!f(V))continue;for(const F of V.relations)(!p||p.includes(F.type))&&(!I||I.some(q=>F.targetRef.startsWith(`${q.toLocaleLowerCase("en-US")}:`)))&&(u.has(F.targetRef)||(S.push(F.targetRef),h.add(F.targetRef)))}}++O}D([...h])},[g,s,m,p,I,f,D]),{entities:(0,i.useMemo)(()=>f?(0,v.pickBy)(g,(h,u)=>f(h)):g,[g,f]),loading:U,error:G}}function w({rootEntityRefs:s,maxDepth:m=Number.POSITIVE_INFINITY,unidirectional:p=!0,mergeRelations:I=!0,kinds:f,relations:g,entityFilter:U,onNodeClick:G,relationPairs:D=de.b}){const[x,h]=(0,i.useState)({}),{entities:u,loading:S,error:O}=_({rootEntityRefs:s,filter:{maxDepth:m,kinds:f,relations:g,entityFilter:U}});return(0,k.A)(()=>{if(!u||Object.keys(u).length===0){h({});return}const P=Object.entries(u).map(([y,A])=>{const l=s.includes(y),C={id:y,entity:A,focused:l,color:l?"secondary":"primary",kind:A.kind,name:A.metadata.name,namespace:A.metadata.namespace||t.oQ,title:A.metadata.title,spec:A.spec};return G&&(C.onClick=Y=>G(C,Y)),C}),L=[],V=new Set,F=[...s];for(;F.length>0;){const y=F.pop(),A=u[y];V.add(y),A&&A?.relations?.forEach(l=>{if(u[l.targetRef]&&!(g&&!g.includes(l.type))&&!(f&&!f.some(C=>l.targetRef.startsWith(`${C.toLocaleLowerCase("en-US")}:`)))){if(!p||!V.has(l.targetRef))if(I){const C=D.find(([le,Ee])=>le===l.type||Ee===l.type)??[l.type],[Y]=C;L.push({from:Y===l.type?y:l.targetRef,to:Y===l.type?l.targetRef:y,relations:C,label:"visible"})}else L.push({from:y,to:l.targetRef,relations:[l.type],label:"visible"});if(V.has(l.targetRef)||(F.push(l.targetRef),V.add(l.targetRef)),p){const C=L.findIndex(Y=>y===Y.from&&l.targetRef===Y.to&&!Y.relations.includes(l.type));if(C>=0)if(I){const Y=D.find(([le,Ee])=>le===l.type||Ee===l.type)??[l.type];L[C].relations=[...L[C].relations,...Y]}else L[C].relations=[...L[C].relations,l.type]}}})}const q=L.reduce((y,A)=>{const l=y.findIndex(C=>C.from===A.from&&C.to===A.to);return l>=0?(y[l]={...y[l],relations:Array.from(new Set([...y[l].relations,...A.relations]))},y):[...y,A]},[]);h({nodes:P,edges:q})},100,[u,s,f,g,p,I,G,D]),{loading:S,error:O,...x}}const se=(0,ie.A)(s=>({progress:{position:"absolute",left:"50%",top:"50%",marginLeft:"-20px",marginTop:"-20px"},container:{position:"relative",width:"100%",display:"flex",flexDirection:"column"},graph:{width:"100%",flex:1,"& path[marker-end]":{transition:"filter 0.1s ease-in-out"},"& path[marker-end]:hover":{filter:`drop-shadow(2px 2px 4px ${s.palette.primary.dark});`},"& g[data-testid=label]":{transition:"transform 0s"}}}),{name:"PluginCatalogGraphEntityRelationsGraph"}),oe=s=>{const{rootEntityNames:m,maxDepth:p=2,unidirectional:I=!0,mergeRelations:f=!0,kinds:g,relations:U,entityFilter:G,direction:D=te.O.LEFT_RIGHT,onNodeClick:x,relationPairs:h=de.b,className:u,zoom:S="enabled",renderNode:O,renderLabel:P,curve:L,showArrowHeads:V}=s,F=(0,ae.A)(),q=se(),y=(0,i.useMemo)(()=>(Array.isArray(m)?m:[m]).map(Ee=>(0,r.U2)(Ee)),[m]),A=(0,X.gf)(B.m),{loading:l,error:C,nodes:Y,edges:le}=w({rootEntityRefs:y,maxDepth:p,unidirectional:I,mergeRelations:f,kinds:g,relations:U,entityFilter:G,onNodeClick:x,relationPairs:h});return(0,i.useEffect)(()=>{C&&A.post(C)},[A,C]),i.createElement("div",{className:Q()(q.container,u)},l&&i.createElement(J.A,{className:q.progress}),Y&&le&&i.createElement(b.w,{nodes:Y,edges:le,renderNode:O||ce,renderLabel:P||o,direction:D,className:q.graph,paddingX:F.spacing(4),paddingY:F.spacing(4),labelPosition:z.D.LabelPosition.RIGHT,labelOffset:F.spacing(1),zoom:S,curve:L,showArrowHeads:V}))}},54361:(fe,N,e)=>{e.d(N,{b:()=>b});var r=e(97214);const b=[[r.L8,r.vv],[r.Ey,r.fO],[r.IB,r.ZD],[r.sA,r.jn],[r.Kx,r.Qz],[r.zj,r.u0],[r.nC,r.fT]]},44148:(fe,N,e)=>{var r,b=e(4293),z=e(78920);r={value:!0},N.A=void 0;var X=z(e(14041)),B=b(e(74044)),J=(0,B.default)(X.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox");N.A=J},41260:(fe,N,e)=>{var r,b=e(4293),z=e(78920);r={value:!0},N.A=void 0;var X=z(e(14041)),B=b(e(74044)),J=(0,B.default)(X.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank");N.A=J},98984:(fe,N,e)=>{var r,b=e(4293),z=e(78920);r={value:!0},N.A=void 0;var X=z(e(14041)),B=b(e(74044)),J=(0,B.default)(X.createElement("path",{d:"M15 3l2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3h-6zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3v6zm6 12l-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6h6zm12-6l-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6v-6z"}),"ZoomOutMap");N.A=J},15485:(fe,N,e)=>{e.d(N,{A:()=>i});var r=e(39850),b=e(89575),z=e(14041),X=e(9546),B=e(268),J=e(7031),ie=e(97740),ae=e(11192),ge=function(c){return{root:(0,b.A)({},c.typography.button,{boxSizing:"border-box",borderRadius:c.shape.borderRadius,padding:11,border:"1px solid ".concat((0,B.X4)(c.palette.action.active,.12)),color:(0,B.X4)(c.palette.action.active,.38),"&$selected":{color:c.palette.action.active,backgroundColor:(0,B.X4)(c.palette.action.active,.12),"&:hover":{backgroundColor:(0,B.X4)(c.palette.action.active,.15)},"& + &":{borderLeft:0,marginLeft:0}},"&$disabled":{color:(0,B.X4)(c.palette.action.disabled,.12)},"&:hover":{textDecoration:"none",backgroundColor:(0,B.X4)(c.palette.text.primary,.05),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}}}),disabled:{},selected:{},label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},sizeSmall:{padding:7,fontSize:c.typography.pxToRem(13)},sizeLarge:{padding:15,fontSize:c.typography.pxToRem(15)}}},Q=z.forwardRef(function(c,o){var ve=c.children,ee=c.classes,ye=c.className,t=c.disabled,ne=t===void 0?!1:t,ce=c.disableFocusRipple,de=ce===void 0?!1:ce,te=c.onChange,k=c.onClick,me=c.selected,ue=c.size,pe=ue===void 0?"medium":ue,v=c.value,_=(0,r.A)(c,["children","classes","className","disabled","disableFocusRipple","onChange","onClick","selected","size","value"]),w=function(oe){k&&(k(oe,v),oe.isDefaultPrevented())||te&&te(oe,v)};return z.createElement(ie.A,(0,b.A)({className:(0,X.default)(ee.root,ye,ne&&ee.disabled,me&&ee.selected,pe!=="medium"&&ee["size".concat((0,ae.A)(pe))]),disabled:ne,focusRipple:!de,ref:o,onClick:w,onChange:te,value:v,"aria-pressed":me},_),z.createElement("span",{className:ee.label},ve))});const i=(0,J.A)(ge,{name:"MuiToggleButton"})(Q)}}]);})();

//# sourceMappingURL=370.4821d1c8.chunk.js.map