{"version":3,"file":"static/5965.23529b03.chunk.js","mappings":"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","sources":["webpack://app/../../node_modules/@backstage/plugin-catalog-react/dist/hooks/useStarredEntities.esm.js","webpack://app/../../node_modules/@backstage/plugin-home/dist/components/StarredEntityListItem/StarredEntityListItem.esm.js","webpack://app/../../node_modules/@backstage/plugin-home/dist/homePageComponents/StarredEntities/Content.esm.js"],"sourcesContent":["import { stringifyEntityRef } from '@backstage/catalog-model';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { useMemo, useCallback } from 'react';\nimport useObservable from 'react-use/esm/useObservable';\nimport '../apis/EntityPresentationApi/EntityPresentationApi.esm.js';\nimport 'lodash/get';\nimport { starredEntitiesApiRef } from '../apis/StarredEntitiesApi/StarredEntitiesApi.esm.js';\nimport 'zen-observable';\n\nfunction getEntityRef(entityOrRef) {\n  return typeof entityOrRef === \"string\" ? entityOrRef : stringifyEntityRef(entityOrRef);\n}\nfunction useStarredEntities() {\n  const starredEntitiesApi = useApi(starredEntitiesApiRef);\n  const starredEntities = useObservable(\n    useMemo(() => starredEntitiesApi.starredEntitie$(), [starredEntitiesApi]),\n    /* @__PURE__ */ new Set()\n  );\n  const isStarredEntity = useCallback(\n    (entityOrRef) => starredEntities.has(getEntityRef(entityOrRef)),\n    [starredEntities]\n  );\n  const toggleStarredEntity = useCallback(\n    (entityOrRef) => starredEntitiesApi.toggleStarred(getEntityRef(entityOrRef)).then(),\n    [starredEntitiesApi]\n  );\n  return {\n    starredEntities,\n    toggleStarredEntity,\n    isStarredEntity\n  };\n}\n\nexport { useStarredEntities };\n//# sourceMappingURL=useStarredEntities.esm.js.map\n","import { stringifyEntityRef } from '@backstage/catalog-model';\nimport { entityRouteRef, entityRouteParams } from '@backstage/plugin-catalog-react';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useRouteRef } from '@backstage/core-plugin-api';\nimport StarIcon from '@material-ui/icons/Star';\n\nconst StarredEntityListItem = ({\n  entity,\n  onToggleStarredEntity\n}) => {\n  const catalogEntityRoute = useRouteRef(entityRouteRef);\n  return /* @__PURE__ */ React.createElement(ListItem, { key: stringifyEntityRef(entity) }, /* @__PURE__ */ React.createElement(ListItemIcon, null, /* @__PURE__ */ React.createElement(Tooltip, { title: \"Remove from starred\" }, /* @__PURE__ */ React.createElement(\n    IconButton,\n    {\n      edge: \"end\",\n      \"aria-label\": \"unstar\",\n      onClick: () => onToggleStarredEntity(entity)\n    },\n    /* @__PURE__ */ React.createElement(StarIcon, { style: { color: \"#f3ba37\" } })\n  ))), /* @__PURE__ */ React.createElement(Link, { to: catalogEntityRoute(entityRouteParams(entity)) }, /* @__PURE__ */ React.createElement(ListItemText, { primary: entity.metadata.title ?? entity.metadata.name })));\n};\n\nexport { StarredEntityListItem };\n//# sourceMappingURL=StarredEntityListItem.esm.js.map\n","import { catalogApiRef, useStarredEntities } from '@backstage/plugin-catalog-react';\nimport { stringifyEntityRef } from '@backstage/catalog-model';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { Progress, ResponseErrorPanel } from '@backstage/core-components';\nimport List from '@material-ui/core/List';\nimport Typography from '@material-ui/core/Typography';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport React from 'react';\nimport useAsync from 'react-use/esm/useAsync';\nimport { StarredEntityListItem } from '../../components/StarredEntityListItem/StarredEntityListItem.esm.js';\n\nconst Content = ({\n  noStarredEntitiesMessage,\n  groupByKind\n}) => {\n  const catalogApi = useApi(catalogApiRef);\n  const { starredEntities, toggleStarredEntity } = useStarredEntities();\n  const [activeTab, setActiveTab] = React.useState(0);\n  const entities = useAsync(async () => {\n    if (!starredEntities.size) {\n      return [];\n    }\n    return (await catalogApi.getEntitiesByRefs({\n      entityRefs: [...starredEntities],\n      fields: [\n        \"kind\",\n        \"metadata.namespace\",\n        \"metadata.name\",\n        \"metadata.title\"\n      ]\n    })).items.filter((e) => !!e);\n  }, [catalogApi, starredEntities]);\n  if (starredEntities.size === 0)\n    return /* @__PURE__ */ React.createElement(Typography, { variant: \"body1\" }, noStarredEntitiesMessage || \"Click the star beside an entity name to add it to this list!\");\n  if (entities.loading) {\n    return /* @__PURE__ */ React.createElement(Progress, null);\n  }\n  const groupedEntities = {};\n  entities.value?.forEach((entity) => {\n    const kind = entity.kind;\n    if (!groupedEntities[kind]) {\n      groupedEntities[kind] = [];\n    }\n    groupedEntities[kind].push(entity);\n  });\n  const groupByKindEntries = Object.entries(groupedEntities);\n  return entities.error ? /* @__PURE__ */ React.createElement(ResponseErrorPanel, { error: entities.error }) : /* @__PURE__ */ React.createElement(\"div\", null, !groupByKind && /* @__PURE__ */ React.createElement(List, null, entities.value?.sort(\n    (a, b) => (a.metadata.title ?? a.metadata.name).localeCompare(\n      b.metadata.title ?? b.metadata.name\n    )\n  ).map((entity) => /* @__PURE__ */ React.createElement(\n    StarredEntityListItem,\n    {\n      key: stringifyEntityRef(entity),\n      entity,\n      onToggleStarredEntity: toggleStarredEntity\n    }\n  ))), groupByKind && /* @__PURE__ */ React.createElement(\n    Tabs,\n    {\n      value: activeTab,\n      onChange: (_, newValue) => setActiveTab(newValue),\n      variant: \"scrollable\",\n      scrollButtons: \"auto\",\n      \"aria-label\": \"entity-tabs\"\n    },\n    groupByKindEntries.map(([kind]) => /* @__PURE__ */ React.createElement(Tab, { key: kind, label: kind }))\n  ), groupByKind && groupByKindEntries.map(([kind, entitiesByKind], index) => /* @__PURE__ */ React.createElement(\"div\", { key: kind, hidden: groupByKind && activeTab !== index }, /* @__PURE__ */ React.createElement(List, null, entitiesByKind?.sort(\n    (a, b) => (a.metadata.title ?? a.metadata.name).localeCompare(\n      b.metadata.title ?? b.metadata.name\n    )\n  ).map((entity) => /* @__PURE__ */ React.createElement(\n    StarredEntityListItem,\n    {\n      key: stringifyEntityRef(entity),\n      entity,\n      onToggleStarredEntity: toggleStarredEntity\n    }\n  ))))));\n};\n\nexport { Content };\n//# sourceMappingURL=Content.esm.js.map\n"],"names":["getEntityRef","entityOrRef","useStarredEntities","starredEntitiesApi","starredEntities","isStarredEntity","toggleStarredEntity","StarredEntityListItem","entity","onToggleStarredEntity","catalogEntityRoute","ListItem","ListItemIcon","Tooltip","IconButton","Star","ListItemText","Content","noStarredEntitiesMessage","groupByKind","catalogApi","activeTab","setActiveTab","entities","useAsync","e","Typography","groupedEntities","kind","groupByKindEntries","List","b","Tabs","_","newValue","Tab","entitiesByKind","index","a"],"sourceRoot":""}