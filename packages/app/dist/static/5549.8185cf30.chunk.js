"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5549],{81491:(P,d,e)=>{e.d(d,{Q:()=>M});var u=e(77026),v=e(42899),o=e(72501),f=e(58837),g=e(14041);const L=(0,f.A)(S=>({value:{fontWeight:"bold",overflow:"hidden",lineHeight:"24px",wordBreak:"break-word"},label:{color:S.palette.text.secondary,textTransform:"uppercase",fontSize:"10px",fontWeight:"bold",letterSpacing:.5,overflow:"hidden",whiteSpace:"nowrap"}}));function M(S){const{label:T,value:x,gridSizes:I,children:t}=S,B=L(),b=(0,u.O)(t,y=>y.getElements()),p=b.length>0?b:g.createElement(o.A,{variant:"body2",className:B.value},x||"unknown");return g.createElement(v.A,{item:!0,...I},g.createElement(o.A,{variant:"h2",className:B.label},T),p)}},55549:(P,d,e)=>{e.r(d),e.d(d,{AboutCard:()=>Be,AboutContent:()=>se,AboutField:()=>A.Q});var u=e(55488),v=e(78560),o=e(98890),f=e(40703),g=e(48653),L=e(45685),M=e(37197),S=e(29365),T=e(58837),x=e(75202),I=e(92483),t=e(14041),B=e(53373),b=e.n(B),p=e(86613),y=e(77125),C=e(72501);const i=(0,T.A)(s=>({link:{display:"grid",justifyItems:"center",gridGap:4,textAlign:"center"},disabled:{color:s.palette.text.secondary,cursor:"default"},primary:{color:s.palette.primary.main},secondary:{color:s.palette.secondary.main},label:{textTransform:"uppercase",fontWeight:s.typography.fontWeightBold,letterSpacing:1.2}}),{name:"BackstageIconLinkVertical"});function N({color:s="primary",disabled:a=!1,href:r="#",icon:n=t.createElement(p.A,null),label:l,onClick:R,title:h}){const c=i();return a?t.createElement(y.A,{title:h,className:b()(c.link,c.disabled)},n,t.createElement(C.A,{variant:"caption",component:"span",className:c.label},l)):t.createElement(x.N_,{title:h,className:b()(c.link,c[s]),to:r,onClick:R},n,t.createElement(C.A,{variant:"caption",component:"span",className:c.label},l))}const Q=(0,T.A)(s=>({links:{margin:s.spacing(2,0),display:"grid",gridAutoFlow:"column",gridAutoColumns:"min-content",gridGap:s.spacing(3)}}),{name:"BackstageHeaderIconLinkRow"});function J(s){const{links:a}=s,r=Q();return t.createElement("nav",{className:r.links},a.map((n,l)=>t.createElement(N,{key:l+1,...n})))}var X=e(54934),re=e(13660),q=e(95208);const ce=s=>{const{type:a}=s,r=(0,q.n)(),n=re.A,l=a?r.getSystemIcon(a)??n:n;return t.createElement(l,null)};var H=e(18139),me=e(34477),de=e(24453),_=e(72814),ue=e(16400),ee=e(30043),te=e(79112);function ve(s,a){const r=s.metadata.annotations?.[o.I4];if(r)try{const n=(0,te.aY)(r),l=a.byUrl(n.target);return{locationTargetUrl:n.target,integrationType:l?.type}}catch{return}}var ae=e(88549),W=e(97214),K=e(699),G=e(14158),fe=e(67720),ge=e(42899),pe=e(28364),A=e(81491),Ee=e(71096),ne=e(10265),le=e(58045);const ye=(0,T.A)({description:{wordBreak:"break-word"}});function Ce(s,a,r){if(a==="url"||s.includes("://"))return s;const n=r.type==="file"?`file://${r.target}`:r.target;return a==="file"||r.type==="file"?new URL(s,n).href:n}function se(s){const{entity:a}=s,r=ye(),{t:n}=(0,ne.i)(le.W),l=a.kind.toLocaleLowerCase("en-US")==="system",R=a.kind.toLocaleLowerCase("en-US")==="resource",h=a.kind.toLocaleLowerCase("en-US")==="component",c=a.kind.toLocaleLowerCase("en-US")==="api",k=a.kind.toLocaleLowerCase("en-US")==="template",O=a.kind.toLocaleLowerCase("en-US")==="location",D=a.kind.toLocaleLowerCase("en-US")==="group",U=(0,K.t)(a,W.jn,{kind:"system"}),j=(0,K.t)(a,W.jn,{kind:"component"}),m=(0,K.t)(a,W.jn,{kind:"domain"}),V=(0,K.t)(a,W.vv);let F;try{F=(0,te.Cr)(a)}catch{F=void 0}return t.createElement(ge.A,{container:!0},t.createElement(A.Q,{label:n("aboutCard.descriptionField.label"),gridSizes:{xs:12}},t.createElement(pe.h,{className:r.description,content:a?.metadata?.description||n("aboutCard.descriptionField.value")})),t.createElement(A.Q,{label:n("aboutCard.ownerField.label"),value:n("aboutCard.ownerField.value"),gridSizes:{xs:12,sm:6,lg:4}},V.length>0&&t.createElement(G.i,{entityRefs:V,defaultKind:"group"})),(l||m.length>0)&&t.createElement(A.Q,{label:n("aboutCard.domainField.label"),value:n("aboutCard.domainField.value"),gridSizes:{xs:12,sm:6,lg:4}},m.length>0&&t.createElement(G.i,{entityRefs:m,defaultKind:"domain"})),(c||h||R||U.length>0)&&t.createElement(A.Q,{label:n("aboutCard.systemField.label"),value:n("aboutCard.systemField.value"),gridSizes:{xs:12,sm:6,lg:4}},U.length>0&&t.createElement(G.i,{entityRefs:U,defaultKind:"system"})),h&&j.length>0&&t.createElement(A.Q,{label:n("aboutCard.parentComponentField.label"),value:n("aboutCard.parentComponentField.value"),gridSizes:{xs:12,sm:6,lg:4}},t.createElement(G.i,{entityRefs:j,defaultKind:"component"})),(c||h||R||k||D||O||typeof a?.spec?.type=="string")&&t.createElement(A.Q,{label:n("aboutCard.typeField.label"),value:a?.spec?.type,gridSizes:{xs:12,sm:6,lg:4}}),(c||h||typeof a?.spec?.lifecycle=="string")&&t.createElement(A.Q,{label:n("aboutCard.lifecycleField.label"),value:a?.spec?.lifecycle,gridSizes:{xs:12,sm:6,lg:4}}),t.createElement(A.Q,{label:n("aboutCard.tagsField.label"),value:n("aboutCard.tagsField.value"),gridSizes:{xs:12,sm:6,lg:4}},(a?.metadata?.tags||[]).map(E=>t.createElement(fe.A,{key:E,size:"small",label:E}))),O&&(a?.spec?.targets||a?.spec?.target)&&t.createElement(A.Q,{label:n("aboutCard.targetsField.label"),gridSizes:{xs:12}},t.createElement(Ee.m,{cols:1,items:(a.spec.targets||[a.spec.target]).map(E=>E).map(E=>({text:E,href:Ce(E,a?.spec?.type||"unknown",F)}))})))}var Ae=e(74011),he=e(25534),Le=e(4832),Se=e(75625),Ie=e(45281),Te=e(56299),Re=e(71913),xe=e(91638);const be="backstage.io/source-template",Ne=s=>{const a=(0,H.gf)(ee.v),{value:r}=(0,xe.A)(async()=>{const n=s.metadata.annotations?.[be];let l;if(n)try{const R=await a.getEntityByRef(n);return l=(0,v.KU)(n),R!==void 0?l:void 0}catch{return}},[a,s]);return r};var Oe=e(31627),De=e(90712);const Ue="backstage.io/techdocs-ref",Y="backstage.io/techdocs-entity",Fe=(0,T.A)({gridItemCard:{display:"flex",flexDirection:"column",height:"calc(100% - 10px)",marginBottom:"10px"},fullHeightCard:{display:"flex",flexDirection:"column",height:"100%"},gridItemCardContent:{flex:1},fullHeightCardContent:{flex:1}});function Be(s){const{variant:a}=s,r=(0,q.n)(),n=Fe(),{entity:l}=(0,ue.tN)(),R=(0,H.gf)(X.Y),h=(0,H.gf)(ee.v),c=(0,H.gf)(me.k),k=(0,H.gf)(de.m),O=(0,_.S)(ae.UJ),D=(0,_.S)(ae.Zg),U=Ne(l),{allowed:j}=(0,Te.A)(Re.tS),{t:m}=(0,ne.i)(le.W),{allowed:V}=(0,De.J)({permission:Oe.X6}),F=ve(l,R),E=l.metadata.annotations?.[u.P];let z;if(l.metadata.annotations?.[Y])try{z=(0,v.KU)(l.metadata.annotations?.[Y])}catch{z=void 0}const ze={label:m("aboutCard.viewSource"),disabled:!F,icon:t.createElement(ce,{type:F?.integrationType}),href:F?.locationTargetUrl},Me={label:m("aboutCard.viewTechdocs"),disabled:!(l.metadata.annotations?.[Ue]||l.metadata.annotations?.[Y])||!O,icon:t.createElement(Le.A,null),href:O&&O(z?{namespace:z.namespace||u.oQ,kind:z.kind,name:z.name}:{namespace:l.metadata.namespace||u.oQ,kind:l.kind,name:l.metadata.name})},oe=[ze,Me];if((0,Ie.c)(l)){const w=r.getSystemIcon("scaffolder")??he.A,Qe={label:m("aboutCard.launchTemplate"),icon:t.createElement(w,null),disabled:!D||!V,href:D&&D({templateName:l.metadata.name,namespace:l.metadata.namespace||u.oQ})};oe.push(Qe)}let Z="";a==="gridItem"?Z=n.gridItemCard:a==="fullHeight"&&(Z=n.fullHeightCard);let $="";a==="gridItem"?$=n.gridItemCardContent:a==="fullHeight"&&($=n.fullHeightCardContent);const ie=l.metadata.annotations?.[o.Eo],He=ie?.startsWith("url:")||ie?.startsWith("file:"),Pe=(0,t.useCallback)(async()=>{try{await h.refreshEntity((0,v.U2)(l)),c.post({message:m("aboutCard.refreshScheduledMessage"),severity:"info",display:"transient"})}catch(w){k.post(w)}},[h,l,c,m,k]);return t.createElement(f.A,{className:Z},t.createElement(L.A,{title:m("aboutCard.title"),action:t.createElement(t.Fragment,null,He&&j&&t.createElement(S.A,{"aria-label":"Refresh",title:m("aboutCard.refreshButtonTitle"),onClick:Pe},t.createElement(Ae.A,null)),t.createElement(S.A,{component:x.N_,"aria-label":"Edit",disabled:!E,title:m("aboutCard.editButtonTitle"),to:E??"#"},t.createElement(Se.A,null)),U&&D&&t.createElement(S.A,{component:x.N_,title:m("aboutCard.createSimilarButtonTitle"),to:D({namespace:U.namespace,templateName:U.name})},t.createElement(I.z9,{id:"scaffolder"}))),subheader:t.createElement(J,{links:oe})}),t.createElement(M.A,null),t.createElement(g.A,{className:$},t.createElement(se,{entity:l})))}},71096:(P,d,e)=>{e.d(d,{m:()=>b});var u=e(24709),v=e(44913),o=e(14041),f=e(77125),g=e(72501),L=e(58837),M=e(23127),S=e(75202);const T=(0,L.A)({svgIcon:{display:"inline-block","& svg":{display:"inline-block",fontSize:"inherit",verticalAlign:"baseline"}}});function x(p){const{href:y,text:C,Icon:i}=p,N=T();return o.createElement(f.A,{display:"flex"},o.createElement(f.A,{mr:1,className:N.svgIcon},o.createElement(g.A,{component:"div"},i?o.createElement(i,null):o.createElement(M.A,null))),o.createElement(f.A,{flexGrow:"1"},o.createElement(S.N_,{to:y,target:"_blank",rel:"noopener"},C||y)))}var I=e(5893);const t={xs:1,sm:1,md:1,lg:2,xl:3};function B(p){const y=[(0,I.A)(i=>i.breakpoints.up("xl"))?"xl":null,(0,I.A)(i=>i.breakpoints.up("lg"))?"lg":null,(0,I.A)(i=>i.breakpoints.up("md"))?"md":null,(0,I.A)(i=>i.breakpoints.up("sm"))?"sm":null,(0,I.A)(i=>i.breakpoints.up("xs"))?"xs":null];let C=1;if(typeof p=="number")C=p;else{const i=y.find(N=>N!==null)??"xs";C=p?.[i]??t[i]}return C}function b(p){const{items:y,cols:C=void 0}=p,i=B(C);return o.createElement(u.A,{rowHeight:"auto",cols:i},y.map(({text:N,href:Q,Icon:J},X)=>o.createElement(v.A,{key:X},o.createElement(x,{href:Q,text:N??Q,Icon:J}))))}},74011:(P,d,e)=>{var u,v=e(4293),o=e(78920);u={value:!0},d.A=void 0;var f=o(e(14041)),g=v(e(74044)),L=(0,g.default)(f.createElement("path",{d:"M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"}),"Cached");d.A=L},13660:(P,d,e)=>{var u,v=e(4293),o=e(78920);u={value:!0},d.A=void 0;var f=o(e(14041)),g=v(e(74044)),L=(0,g.default)(f.createElement("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}),"Code");d.A=L}}]);})();

//# sourceMappingURL=5549.8185cf30.chunk.js.map