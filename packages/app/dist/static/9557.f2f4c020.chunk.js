"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9557],{56420:(p,s,t)=>{t.d(s,{Y:()=>G});var e=t(95208),o=t(77125),c=t(64947),d=t(93453),i=t(29365),E=t(46423),O=t(5951),l=t(26343),r=t(28233),n=t(55197),_=t(58837),D=t(72501),P=t(5893),a=t(14041),y=t(45250),X=t.n(y),h=t(70209),R=t(92483),S=t(75202),W=t(89475),K=t(10265);const j=(0,_.A)({popoverList:{minWidth:260,maxWidth:400},menuItem:{whiteSpace:"normal"}},{name:"BackstageSupportButton"}),z=({icon:u})=>{const C=(0,e.n)(),T=u?C.getSystemIcon(u)??R.NT:R.NT;return a.createElement(T,null)},F=({link:u})=>a.createElement(S.N_,{to:u.url},u.title??u.url),$=({item:u})=>a.createElement(l.A,null,a.createElement(E.A,null,a.createElement(z,{icon:u.icon})),a.createElement(O.A,{primary:u.title,secondary:u.links?.reduce((C,T,f)=>[...C,f>0&&a.createElement("br",{key:f}),a.createElement(F,{link:T,key:T.url})],[])}));function G(u){const{t:C}=(0,K.i)(W.O),{title:T,items:f,children:V}=u,{items:B}=(0,h.l)(),[U,N]=(0,a.useState)(!1),[Q,J]=(0,a.useState)(null),v=j(),g=(0,P.A)(m=>m.breakpoints.down("sm")),A=m=>{J(m.currentTarget),N(!0)},I=()=>{N(!1)};return a.createElement(a.Fragment,null,a.createElement(o.A,{display:"flex",ml:1},g?a.createElement(i.A,{color:"primary",size:"small",onClick:A,"data-testid":"support-button","aria-label":"Support"},a.createElement(R.NT,null)):a.createElement(c.A,{"data-testid":"support-button","aria-label":"Support",color:"primary",onClick:A,startIcon:a.createElement(R.NT,null)},C("supportButton.title"))),a.createElement(n.Ay,{"data-testid":"support-button-popover",open:U,anchorEl:Q,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:I},a.createElement(r.A,{className:v.popoverList,autoFocusItem:!!Q},T&&a.createElement(l.A,{button:!1,alignItems:"flex-start",className:v.menuItem},a.createElement(D.A,{variant:"subtitle1"},T)),a.Children.map(V,(m,M)=>a.createElement(l.A,{alignItems:"flex-start",key:`child-${M}`,className:v.menuItem},m)),(f??B).map((m,M)=>a.createElement($,{item:m,key:`item-${M}`}))),a.createElement(d.A,null,a.createElement(c.A,{color:"primary",onClick:I,"aria-label":"Close"},C("supportButton.close")))))}},17174:(p,s,t)=>{t.d(s,{s:()=>O});var e=t(77125),o=t(99703),c=t(58837),d=t(14041);const i=l=>(0,o.A)({root:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(22em, 1fr))",gridAutoRows:"1fr",gridGap:l.spacing(2)}}),E=(0,c.A)(i,{name:"BackstageItemCardGrid"});function O(l){const{children:r,...n}=l,_=E(n);return d.createElement(e.A,{className:_.root,...n},r)}},45575:(p,s,t)=>{t.d(s,{f:()=>l});var e=t(77125),o=t(99703),c=t(58837),d=t(72501),i=t(14041);const E=r=>(0,o.A)({root:{color:r.palette.common.white,padding:r.spacing(2,2,3),backgroundImage:r.getPageTheme({themeId:"card"}).backgroundImage,backgroundPosition:0,backgroundSize:"inherit"}}),O=(0,c.A)(E,{name:"BackstageItemCardHeader"});function l(r){const{title:n,subtitle:_,children:D}=r,P=O(r);return i.createElement(e.A,{className:P.root},_&&i.createElement(d.A,{variant:"subtitle2",component:"h3"},_),n&&i.createElement(d.A,{variant:"h6",component:"h4"},n),D)}},92303:(p,s,t)=>{t.d(s,{d:()=>d});var e=t(14041),o=t(16654),c=t(82326);function d(i){const{themeId:E,children:O,...l}=i;return e.createElement(c.Y,{themeId:E},e.createElement(o.Y,{...l}),O)}},19108:(p,s,t)=>{t.d(s,{A:()=>e,G:()=>o});const e="backstage.io/techdocs-ref",o="backstage.io/techdocs-entity"},4348:(p,s,t)=>{t.d(s,{V:()=>e});function e(o,c){return c.getOptionalBoolean("techdocs.legacyUseCaseSensitiveTripletPaths")?o:o.toLocaleLowerCase("en-US")}},67633:(p,s,t)=>{t.d(s,{o:()=>h});var e=t(14041),o=t(36338),c=t(72814),d=t(18139),i=t(54195),E=t(97214),O=t(699),l=t(53318),r=t(17749),n=t(29021),_=t(65995),D=t(87318),P=t(143),a=t(48751),y=t(4348);const X=[a.B.createTitleColumn({hidden:!0}),a.B.createNameColumn(),a.B.createOwnerColumn(),a.B.createKindColumn(),a.B.createTypeColumn()],h=R=>{const{entities:S,title:W,loading:K,columns:j,actions:z,options:F}=R,[,$]=(0,o.A)(),G=(0,c.S)(r.Oc),u=(0,d.gf)(i.U);if(!S)return null;const C=S.map(B=>{const U=(0,O.t)(B,E.vv);return{entity:B,resolved:{docsUrl:G({namespace:(0,y.V)(B.metadata.namespace??"default",u),kind:(0,y.V)(B.kind,u),name:(0,y.V)(B.metadata.name,u)}),ownedByRelations:U,ownedByRelationsTitle:U.map(N=>(0,l.S)(N,{defaultKind:"group"})).join(", ")}}}),T=[P.f.createCopyDocsUrlAction($)],f=20,V=C&&C.length>f;return e.createElement(e.Fragment,null,K||C&&C.length>0?e.createElement(n.X,{isLoading:K,options:{paging:V,pageSize:f,search:!0,actionsColumnIndex:-1,...F},data:C,columns:j||X,actions:z||T,title:W?`${W} (${C.length})`:`All (${C.length})`}):e.createElement(_.p,{missing:"data",title:"No documents to show",description:"Create your own document. Check out our Getting Started Information",action:e.createElement(D.z,{color:"primary",to:"https://backstage.io/docs/features/techdocs/getting-started",variant:"contained"},"DOCS")}))};h.columns=a.B,h.actions=P.f},143:(p,s,t)=>{t.d(s,{f:()=>O});var e=t(14041),o=t(55290),c=t(7031),d=t(80109),i=t(15303);const E=(0,c.A)({root:{color:"#f3ba37"}})(d.A),O={createCopyDocsUrlAction(l){return r=>({icon:()=>e.createElement(o.A,{fontSize:"small"}),tooltip:"Click to copy documentation link to clipboard",onClick:()=>l(`${window.location.origin}${r.resolved.docsUrl}`)})},createStarEntityAction(l,r){return n=>{const _=n.entity,D=l(_);return{cellStyle:{paddingLeft:"1em"},icon:()=>D?e.createElement(E,null):e.createElement(i.A,null),tooltip:D?"Remove from favorites":"Add to favorites",onClick:()=>r(_)}}}}},48751:(p,s,t)=>{t.d(s,{B:()=>r});var e=t(14041),o=t(77125),c=t(58837);const d=(0,c.A)(n=>({value:{marginBottom:n.spacing(.75)},subvalue:{color:n.palette.textSubtle,fontWeight:"normal"}}),{name:"BackstageSubvalueCell"});function i(n){const{value:_,subvalue:D}=n,P=d();return e.createElement(e.Fragment,null,e.createElement(o.A,{className:P.value},_),e.createElement(o.A,{className:P.subvalue},D))}var E=t(75202),O=t(14158);function l(n){return n.metadata.title||n.metadata.name}const r={createTitleColumn(n){return{...r.createNameColumn(),field:"entity.metadata.title",hidden:n?.hidden}},createNameColumn(){return{title:"Document",field:"entity.metadata.name",highlight:!0,searchable:!0,defaultSort:"asc",customSort:(n,_)=>{const D=l(n.entity).toLocaleLowerCase(),P=l(_.entity).toLocaleLowerCase();return D.localeCompare(P)},render:n=>e.createElement(i,{value:e.createElement(E.N_,{to:n.resolved.docsUrl},l(n.entity)),subvalue:n.entity.metadata.description})}},createOwnerColumn(){return{title:"Owner",field:"resolved.ownedByRelationsTitle",render:({resolved:n})=>e.createElement(O.i,{entityRefs:n.ownedByRelations,defaultKind:"group"})}},createKindColumn(){return{title:"Kind",field:"entity.kind"}},createTypeColumn(){return{title:"Type",field:"entity.spec.type"}}}},59557:(p,s,t)=>{t.r(s),t.d(s,{TechDocsCustomHome:()=>J});var e=t(14041),o=t(73466),c=t(58837),d=t(97214),i=t(78560),E=t(18139),O=t(94223),l=t(699);function r(){const v=(0,E.gf)(O.K),{loading:g,value:A}=(0,o.A)(async()=>{const{ownershipEntityRefs:m}=await v.getBackstageIdentity();return m},[]),I=(0,e.useMemo)(()=>{const m=new Set(A??[]);return M=>{const Y=(0,l.t)(M,d.vv).map(i.U2);for(const H of Y)if(m.has(H))return!0;return!1}},[A]);return{loading:g,isOwnedEntity:I}}var n=t(30043),_=t(24259),D=t(67633),P=t(17749),a=t(4348),y=t(72814),X=t(54195),h=t(17174),R=t(45575),S=t(87318),W=t(40703),K=t(59469),j=t(48653),z=t(57369);const F=v=>{const{entities:g}=v,A=(0,y.S)(P.Oc),I=(0,E.gf)(X.U);return g?e.createElement(h.s,{"data-testid":"docs-explore"},g?.length?g.map((m,M)=>e.createElement(W.A,{key:M},e.createElement(z.A,null,e.createElement(R.f,{title:m.metadata.title??m.metadata.name})),e.createElement(j.A,null,m.metadata.description),e.createElement(K.A,null,e.createElement(S.z,{to:A({namespace:(0,a.V)(m.metadata.namespace??"default",I),kind:(0,a.V)(m.kind,I),name:(0,a.V)(m.metadata.name,I)}),color:"primary","data-testid":"read_docs"},"Read Docs")))):null):null};var $=t(17138),G=t(56420),u=t(16454),C=t(96872),T=t(99338),f=t(62112),V=t(44390),B=t(88461),U=t(19108);const N={DocsTable:D.o,DocsCardGrid:F},Q=({config:v,entities:g,index:A})=>{const m=(0,c.A)({panelContainer:{marginBottom:"2rem",...v.panelCSS?v.panelCSS:{}}})(),{loading:M,isOwnedEntity:Y}=r(),H=N[v.panelType],Z=g.filter(L=>v.filterPredicate==="ownedByUser"?M?!1:Y(L):typeof v.filterPredicate=="function"&&v.filterPredicate(L));return e.createElement(e.Fragment,null,e.createElement($.d,{title:v.title,description:v.description},A===0?e.createElement(G.Y,null,"Discover documentation in your ecosystem."):null),e.createElement("div",{className:m.panelContainer},e.createElement(H,{"data-testid":"techdocs-custom-panel",entities:Z})))},J=v=>{const{tabsConfig:g}=v,[A,I]=(0,e.useState)(0),m=(0,E.gf)(n.v),{value:M,loading:Y,error:H}=(0,o.A)(async()=>(await m.getEntities({filter:{[`metadata.annotations.${U.A}`]:_.c},fields:["apiVersion","kind","metadata","relations","spec.owner","spec.type"]})).items.filter(x=>!!x.metadata.annotations?.[U.A])),Z=g[A];return Y?e.createElement(B.S,null,e.createElement(u.U,null,e.createElement(C.k,null))):H?e.createElement(B.S,null,e.createElement(u.U,null,e.createElement(T.B,{severity:"error",title:"Could not load available documentation."},e.createElement(f.z,{language:"text",text:H.toString()})))):e.createElement(B.S,null,e.createElement(V.o,{selectedIndex:A,onChange:L=>I(L),tabs:g.map(({label:L},x)=>({id:x.toString(),label:L}))}),e.createElement(u.U,{"data-testid":"techdocs-content"},Z.panels.map((L,x)=>e.createElement(Q,{key:x,config:L,entities:M||[],index:x}))))}},88461:(p,s,t)=>{t.d(s,{S:()=>i});var e=t(14041),o=t(92303),c=t(18139),d=t(54195);const i=E=>{const{children:O}=E,r=`Documentation available in ${(0,c.gf)(d.U).getOptionalString("organization.name")??"Backstage"}`;return e.createElement(o.d,{title:"Documentation",subtitle:r,themeId:"documentation"},O)}},55290:(p,s,t)=>{var e,o=t(4293),c=t(78920);e={value:!0},s.A=void 0;var d=c(t(14041)),i=o(t(74044)),E=(0,i.default)(d.createElement("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share");s.A=E}}]);})();

//# sourceMappingURL=9557.f2f4c020.chunk.js.map