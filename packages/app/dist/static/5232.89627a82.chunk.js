(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5232],{62776:(O,g,r)=>{"use strict";r.d(g,{e:()=>p,h:()=>v});const v="sonarqube.org/project-key",p=f=>!!f.metadata.annotations?.[v]},75232:(O,g,r)=>{"use strict";r.d(g,{F:()=>ut});var v=r(16400),p=r(54674),f=r(35043),i=r(62776);const u="/",h=e=>{let t,a;const s=e?.metadata.annotations?.[i.h];if(s){const o=s.indexOf(u);o>-1?(t=s.substring(0,o),a=s.substring(o+1)):a=s}return{projectInstance:t,projectKey:a}};var I=r(42899),T=r(58837),n=r(14041),ie=r(73466),Se=r(21332),ue=r(96872),ke=r(65995),de=r(18139),De=r(67720);const me=[{greaterThan:0,rating:"1.0"},{greaterThan:3,rating:"2.0"},{greaterThan:5,rating:"3.0"},{greaterThan:10,rating:"4.0"},{greaterThan:20,rating:"5.0"}];var Re=r(85005),ge=r(85142),ve=r(34826),pe=r(8704),fe=r(17690),A=r(56947),C=r(52950),k=r(54917),P=r(89575),D=r(69740),$=r(39850),Z=r(53373),W=r.n(Z),U={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},F=function(){var t=(0,n.useRef)([]),a=(0,n.useRef)(null);return(0,n.useEffect)(function(){var s=Date.now(),o=!1;t.current.forEach(function(c){if(c){o=!0;var d=c.style;d.transitionDuration=".3s, .3s, .3s, .06s",a.current&&s-a.current<100&&(d.transitionDuration="0s, 0s")}}),o&&(a.current=Date.now())}),t.current},Ee=["className","percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","style","trailColor","trailWidth","transition"],xe=function(t){var a=(0,D.A)((0,D.A)({},U),t),s=a.className,o=a.percent,c=a.prefixCls,d=a.strokeColor,l=a.strokeLinecap,m=a.strokeWidth,E=a.style,y=a.trailColor,S=a.trailWidth,x=a.transition,B=(0,$.A)(a,Ee);delete B.gapPosition;var R=Array.isArray(o)?o:[o],L=Array.isArray(d)?d:[d],G=F(),j=m/2,b=100-m/2,Y="M ".concat(l==="round"?j:0,",").concat(j,`
         L `).concat(l==="round"?b:100,",").concat(j),J="0 0 100 ".concat(m),N=0;return n.createElement("svg",(0,P.A)({className:W()("".concat(c,"-line"),s),viewBox:J,preserveAspectRatio:"none",style:E},B),n.createElement("path",{className:"".concat(c,"-line-trail"),d:Y,strokeLinecap:l,stroke:y,strokeWidth:S||m,fillOpacity:"0"}),R.map(function(z,K){var M=1;switch(l){case"round":M=1-m/100;break;case"square":M=1-m/2/100;break;default:M=1;break}var re={strokeDasharray:"".concat(z*M,"px, 100px"),strokeDashoffset:"-".concat(N,"px"),transition:x||"stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear"},V=L[K]||L[L.length-1];return N+=z,n.createElement("path",{key:K,className:"".concat(c,"-line-path"),d:Y,strokeLinecap:l,stroke:V,strokeWidth:m,fillOpacity:"0",ref:function(ne){G[K]=ne},style:re})}))};const Be=xe;var w=r(17545),Ue=r(90689),je=r(47169),Le=0,ze=(0,je.A)();function Ke(){var e;return ze?(e=Le,Le+=1):e="TEST_OR_SSR",e}const Ve=function(e){var t=n.useState(),a=(0,Ue.A)(t,2),s=a[0],o=a[1];return n.useEffect(function(){o("rc_progress_".concat(Ke()))},[]),e||s};var Ie=function(t){var a=t.bg,s=t.children;return n.createElement("div",{style:{width:"100%",height:"100%",background:a}},s)};function Pe(e,t){return Object.keys(e).map(function(a){var s=parseFloat(a),o="".concat(Math.floor(s*t),"%");return"".concat(e[a]," ").concat(o)})}var $e=n.forwardRef(function(e,t){var a=e.prefixCls,s=e.color,o=e.gradientId,c=e.radius,d=e.style,l=e.ptg,m=e.strokeLinecap,E=e.strokeWidth,y=e.size,S=e.gapDegree,x=s&&(0,w.A)(s)==="object",B=x?"#FFF":void 0,R=y/2,L=n.createElement("circle",{className:"".concat(a,"-circle-path"),r:c,cx:R,cy:R,stroke:B,strokeLinecap:m,strokeWidth:E,opacity:l===0?0:1,style:d,ref:t});if(!x)return L;var G="".concat(o,"-conic"),j=S?"".concat(180+S/2,"deg"):"0deg",b=Pe(s,(360-S)/360),Y=Pe(s,1),J="conic-gradient(from ".concat(j,", ").concat(b.join(", "),")"),N="linear-gradient(to ".concat(S?"bottom":"top",", ").concat(Y.join(", "),")");return n.createElement(n.Fragment,null,n.createElement("mask",{id:G},L),n.createElement("foreignObject",{x:0,y:0,width:y,height:y,mask:"url(#".concat(G,")")},n.createElement(Ie,{bg:N},n.createElement(Ie,{bg:J}))))});const Fe=$e;var _=100,ye=function(t,a,s,o,c,d,l,m,E,y){var S=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,x=s/100*360*((360-d)/360),B=d===0?0:{bottom:0,top:180,left:90,right:-90}[l],R=(100-o)/100*a;E==="round"&&o!==100&&(R+=y/2,R>=a&&(R=a-.01));var L=_/2;return{stroke:typeof m=="string"?m:void 0,strokeDasharray:"".concat(a,"px ").concat(t),strokeDashoffset:R+S,transform:"rotate(".concat(c+x+B,"deg)"),transformOrigin:"".concat(L,"px ").concat(L,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},Qe=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function Me(e){var t=e??[];return Array.isArray(t)?t:[t]}var He=function(t){var a=(0,D.A)((0,D.A)({},U),t),s=a.id,o=a.prefixCls,c=a.steps,d=a.strokeWidth,l=a.trailWidth,m=a.gapDegree,E=m===void 0?0:m,y=a.gapPosition,S=a.trailColor,x=a.strokeLinecap,B=a.style,R=a.className,L=a.strokeColor,G=a.percent,j=(0,$.A)(a,Qe),b=_/2,Y=Ve(s),J="".concat(Y,"-gradient"),N=b-d/2,z=Math.PI*2*N,K=E>0?90+E/2:-90,M=z*((360-E)/360),re=(0,w.A)(c)==="object"?c:{count:c,gap:2},V=re.count,he=re.gap,ne=Me(G),ee=Me(L),Ne=ee.find(function(oe){return oe&&(0,w.A)(oe)==="object"}),dt=Ne&&(0,w.A)(Ne)==="object",se=dt?"butt":x,mt=ye(z,M,0,100,K,E,y,S,se,d),Te=F(),gt=function(){var ce=0;return ne.map(function(te,X){var Ae=ee[X]||ee[ee.length-1],ae=ye(z,M,ce,te,K,E,y,Ae,se,d);return ce+=te,n.createElement(Fe,{key:X,color:Ae,ptg:te,radius:N,prefixCls:o,gradientId:J,style:ae,strokeLinecap:se,strokeWidth:d,gapDegree:E,ref:function(Ce){Te[X]=Ce},size:_})}).reverse()},vt=function(){var ce=Math.round(V*(ne[0]/100)),te=100/V,X=0;return new Array(V).fill(null).map(function(Ae,ae){var le=ae<=ce-1?ee[0]:S,Ce=le&&(0,w.A)(le)==="object"?"url(#".concat(J,")"):void 0,We=ye(z,M,X,te,K,E,y,le,"butt",d,he);return X+=(M-We.strokeDashoffset+he)*100/M,n.createElement("circle",{key:ae,className:"".concat(o,"-circle-path"),r:N,cx:b,cy:b,stroke:Ce,strokeWidth:d,opacity:1,style:We,ref:function(pt){Te[ae]=pt}})})};return n.createElement("svg",(0,P.A)({className:W()("".concat(o,"-circle"),R),viewBox:"0 0 ".concat(_," ").concat(_),style:B,id:s,role:"presentation"},j),!V&&n.createElement("circle",{className:"".concat(o,"-circle-trail"),r:N,cx:b,cy:b,stroke:S,strokeLinecap:se,strokeWidth:l||d,style:mt}),V?vt():gt())};const Oe=He,ft={Line:Be,Circle:Oe},Ge=(0,T.A)(e=>({root:{height:e.spacing(3),width:e.spacing(3)}})),Ye=({value:e})=>{const t=Ge(),a=(0,k.A)();return n.createElement(Oe,{strokeLinecap:"butt",percent:+(e||0),strokeWidth:16,strokeColor:a.palette.status.ok,trailColor:a.palette.status.error,trailWidth:16,className:t.root})};var Je=r(19087),Xe=r(268);const Ze=(0,T.A)(e=>{const t={height:e.spacing(3),width:e.spacing(3),color:e.palette.common.white};return{ratingDefault:{...t,background:e.palette.status.aborted},ratingA:{...t,background:e.palette.status.ok},ratingB:{...t,background:(0,Xe.a)(e.palette.status.ok,.5)},ratingC:{...t,background:e.palette.status.pending},ratingD:{...t,background:e.palette.status.warning},ratingE:{...t,background:e.palette.error.main}}}),q=({rating:e,hideValue:t})=>{const a=Ze(),s=(0,n.useMemo)(()=>{switch(e){case"1.0":return{name:"A",className:a.ratingA};case"2.0":return{name:"B",className:a.ratingB};case"3.0":return{name:"C",className:a.ratingC};case"4.0":return{name:"D",className:a.ratingD};case"5.0":return{name:"E",className:a.ratingE};default:return{name:"",className:a.ratingDefault}}},[a,e]);return n.createElement(Je.A,{className:s.className},!t&&s.name)};var we=r(75202),be=r(72501);const _e=(0,T.A)(e=>({root:{margin:e.spacing(1,0),minWidth:"140px"},upper:{display:"flex",justifyContent:"center",alignItems:"center"},cardTitle:{textAlign:"center"},wrapIcon:{display:"inline-flex",verticalAlign:"baseline"},left:{display:"flex"},right:{display:"flex",marginLeft:e.spacing(.5)}})),Q=({leftSlot:e,rightSlot:t,title:a,titleIcon:s,link:o})=>{const c=_e();return n.createElement(we.N_,{to:o,color:"inherit",underline:"none"},n.createElement(I.A,{item:!0,className:c.root},n.createElement(I.A,{item:!0,className:c.upper},n.createElement(I.A,{item:!0,className:c.left},e),n.createElement(I.A,{item:!0,className:c.right},t)),n.createElement(I.A,{item:!0,className:c.cardTitle},n.createElement(be.A,{variant:"body1",className:c.wrapIcon},s," ",a))))},qe=(0,T.A)(e=>({value:{fontSize:"1.5rem",fontWeight:e.typography.fontWeightMedium}})),H=e=>{const t=qe();return n.createElement(be.A,{component:"span",className:t.value},e.value)},et=(0,T.A)(e=>({badgeLabel:{color:e.palette.common.white},badgeError:{margin:0,backgroundColor:e.palette.error.main},badgeSuccess:{backgroundColor:e.palette.success.main},badgeUnknown:{backgroundColor:e.palette.grey[500]}})),tt=e=>{const t=et(),{value:a}=e;let s="Not computed",o=t.badgeUnknown;if(a?.metrics.alert_status){const l=a?.metrics.alert_status==="OK";s=l?"Gate passed":"Gate failed",o=l?t.badgeSuccess:t.badgeError}let c={};return a.projectUrl&&(c={component:"a",href:a.projectUrl,clickable:!0}),n.createElement(De.A,{label:s,...c,classes:{root:o,label:t.badgeLabel}})},at=e=>{const{value:t,title:a}=e;return n.createElement(Q,{titleIcon:n.createElement(Re.A,null),title:a,link:t.getIssuesUrl("BUG"),leftSlot:n.createElement(H,{value:t.metrics.bugs}),rightSlot:n.createElement(q,{rating:t.metrics.reliability_rating})})},rt=e=>{const{value:t,title:a}=e;return n.createElement(Q,{titleIcon:t.metrics.vulnerabilities==="0"?n.createElement(ge.A,null):n.createElement(ve.A,null),title:a,link:t.getIssuesUrl("VULNERABILITY"),leftSlot:n.createElement(H,{value:t.metrics.vulnerabilities}),rightSlot:n.createElement(q,{rating:t.metrics.security_rating})})},nt=e=>{const{value:t,title:a}=e;return n.createElement(Q,{titleIcon:t.metrics.code_smells==="0"?n.createElement(fe.A,null):n.createElement(pe.A,null),title:a,link:t.getIssuesUrl("CODE_SMELL"),leftSlot:n.createElement(H,{value:t.metrics.code_smells}),rightSlot:n.createElement(q,{rating:t.metrics.sqale_rating})})},st=e=>{const{value:t,title:a}=e;return t.metrics.security_review_rating&&n.createElement(Q,{titleIcon:n.createElement(A.A,null),title:a,link:t.getSecurityHotspotsUrl(),leftSlot:n.createElement(H,{value:t.metrics.security_hotspots_reviewed?`${t.metrics.security_hotspots_reviewed}%`:"\u2014"}),rightSlot:n.createElement(q,{rating:t.metrics.security_review_rating})})},ot=e=>{const{value:t,title:a}=e;return n.createElement(Q,{link:t.getComponentMeasuresUrl("COVERAGE"),title:a,leftSlot:n.createElement(Ye,{value:t.metrics.coverage}),rightSlot:n.createElement(H,{value:t.metrics.coverage?`${t.metrics.coverage}%`:"\u2014"})})},ct=e=>{const{value:t,title:a}=e,s=(0,n.useMemo)(()=>{if(!t||!t.metrics.duplicated_lines_density)return"";let o="";for(const c of me)+t.metrics.duplicated_lines_density>=c.greaterThan&&(o=c.rating);return o},[t]);return n.createElement(Q,{title:a,link:t.getComponentMeasuresUrl("DUPLICATED_LINES_DENSITY"),leftSlot:n.createElement(q,{rating:s,hideValue:!0}),rightSlot:n.createElement(H,{value:`${t.metrics.duplicated_lines_density}%`})})},lt=e=>{const{value:t}=e;return n.createElement("div",null,"Last analyzed on"," ",C.c9.fromISO(t.lastAnalysis).toLocaleString(C.c9.DATETIME_MED))},Et=e=>{const{value:t,sonarQubeComponentKey:a}=e;return React.createElement(Typography,{color:"error",variant:"subtitle2"},t?.isSonarQubeAnnotationEnabled&&`Unable to access SonarQube project "${a}": Check project exists and permissions`,!t?.isSonarQubeAnnotationEnabled&&`${t?.name} has no DX-Hub annotation for SonarQube`)},it=(0,T.A)(e=>({header:{padding:e.spacing(2,2,2,2.5)},action:{margin:0},lastAnalyzed:{color:e.palette.text.secondary}})),ut=e=>{const{variant:t="gridItem",missingAnnotationReadMoreUrl:a}=e,{entity:s}=(0,v.tN)(),o=(0,de.gf)(f.w),{projectKey:c,projectInstance:d}=h(s),{value:l,loading:m}=(0,ie.A)(async()=>o.getFindingSummary({componentKey:c,projectInstance:d}),[o,c]),E=!m&&l?.metrics?{title:"View more",link:l.projectUrl}:void 0,y=it();return n.createElement(Se.n,{title:"Code Quality",deepLink:E,variant:t,headerProps:{action:!m&&l?.metrics&&n.createElement(tt,{value:l}),classes:{root:y.header,action:y.action}}},m&&n.createElement(ue.k,null),!m&&!c&&n.createElement(p.o,{annotation:i.h,readMoreUrl:a}),!m&&c&&!l?.metrics&&n.createElement(ke.p,{missing:"info",title:"No information to display",description:`There is no SonarQube project with key '${c}'.`}),!m&&l?.metrics&&n.createElement(n.Fragment,null,n.createElement(I.A,{item:!0,container:!0,direction:"column",justifyContent:"space-between",alignItems:"center",style:{height:"100%"},spacing:0},n.createElement(I.A,{item:!0,container:!0,justifyContent:"space-around"},n.createElement(at,{value:l,title:"Bugs"}),n.createElement(rt,{value:l,title:"Vulnerabilities"}),n.createElement(nt,{value:l,title:"Code Smells"}),n.createElement(st,{value:l,title:"Hotspots Reviewed"}),n.createElement("div",{style:{width:"100%"}}),n.createElement(ot,{value:l,title:"Coverage"}),n.createElement(ct,{value:l,title:"Duplications"})),n.createElement(I.A,{item:!0,className:y.lastAnalyzed},n.createElement(lt,{value:l})))))}},54674:(O,g,r)=>{"use strict";r.d(g,{o:()=>fe});var v=r(77125),p=r(64947),f=r(58837),i=r(72501),u=r(14041),h=r(65995),I=r(62112),T=r(75202),n=r(16400),ie=r(46343),Se=r.n(ie),ue=r(40074),ke=r.n(ue),de=r(46123),De=r.n(de),me=r(96403),Re=r.n(me);const ge=(0,f.A)(A=>({code:{borderRadius:6,margin:A.spacing(2,0),background:A.palette.type==="dark"?"#444":A.palette.common.white}}),{name:"BackstageMissingAnnotationEmptyState"});function ve(A,C){const k=C?.kind||"Component",P=C?.metadata.name||"example",D=C?.spec?.type||"website",$=C?.spec?.owner||"user:default/guest",Z=`apiVersion: backstage.io/v1alpha1
kind: ${k}
metadata:
  name: ${P}
  annotations:${A.map(F=>`
    ${F}: value`).join("")}
spec:
  type: ${D}
  owner: ${$}`;let W=6;const U=[];return A.forEach(()=>{U.push(W),W++}),{yamlText:Z,lineNumbers:U}}function pe(A,C="Component"){const k=A.length<=1;return u.createElement(u.Fragment,null,"The ",k?"annotation":"annotations"," ",A.map(P=>u.createElement("code",null,P)).reduce((P,D)=>u.createElement(u.Fragment,null,P,", ",D))," ",k?"is":"are"," missing. You need to add the"," ",k?"annotation":"annotations"," to your ",C," if you want to enable this tool.")}function fe(A){let C;try{C=(0,n.tN)().entity}catch{}const{annotation:k,readMoreUrl:P}=A,D=Array.isArray(k)?k:[k],$=P||"https://backstage.io/docs/features/software-catalog/well-known-annotations",Z=ge(),W=C?.kind||"Component",{yamlText:U,lineNumbers:F}=ve(D,C);return u.createElement(h.p,{missing:"field",title:"Missing Annotation",description:pe(D,W),action:u.createElement(u.Fragment,null,u.createElement(i.A,{variant:"body1"},"Add the annotation to your ",W," YAML as shown in the highlighted example below:"),u.createElement(v.A,{className:Z.code},u.createElement(I.z,{text:U,language:"yaml",showLineNumbers:!0,highlightedNumbers:F,customStyle:{background:"inherit",fontSize:"115%"}})),u.createElement(p.A,{color:"primary",component:T.N_,to:$},"Read more"))})}},85142:(O,g,r)=>{"use strict";var v,p=r(4293),f=r(78920);v={value:!0},g.A=void 0;var i=f(r(14041)),u=p(r(74044)),h=(0,u.default)(i.createElement("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Lock");g.A=h},34826:(O,g,r)=>{"use strict";var v,p=r(4293),f=r(78920);v={value:!0},g.A=void 0;var i=f(r(14041)),u=p(r(74044)),h=(0,u.default)(i.createElement("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"}),"LockOpen");g.A=h},56947:(O,g,r)=>{"use strict";var v,p=r(4293),f=r(78920);v={value:!0},g.A=void 0;var i=f(r(14041)),u=p(r(74044)),h=(0,u.default)(i.createElement("path",{d:"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"}),"Security");g.A=h},8704:(O,g,r)=>{"use strict";var v,p=r(4293),f=r(78920);v={value:!0},g.A=void 0;var i=f(r(14041)),u=p(r(74044)),h=(0,u.default)(i.createElement(i.Fragment,null,i.createElement("circle",{cx:"15.5",cy:"9.5",r:"1.5"}),i.createElement("circle",{cx:"8.5",cy:"9.5",r:"1.5"}),i.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-6c-2.33 0-4.32 1.45-5.12 3.5h1.67c.69-1.19 1.97-2 3.45-2s2.75.81 3.45 2h1.67c-.8-2.05-2.79-3.5-5.12-3.5z"})),"SentimentVeryDissatisfied");g.A=h},17690:(O,g,r)=>{"use strict";var v,p=r(4293),f=r(78920);v={value:!0},g.A=void 0;var i=f(r(14041)),u=p(r(74044)),h=(0,u.default)(i.createElement(i.Fragment,null,i.createElement("circle",{cx:"15.5",cy:"9.5",r:"1.5"}),i.createElement("circle",{cx:"8.5",cy:"9.5",r:"1.5"}),i.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm-5-6c.78 2.34 2.72 4 5 4s4.22-1.66 5-4H7z"})),"SentimentVerySatisfied");g.A=h},46343:(O,g,r)=>{var v=r(94687);function p(f,i){return v(f,i)}O.exports=p}}]);})();

//# sourceMappingURL=5232.89627a82.chunk.js.map